{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?7e02","webpack:///./src/components/Ring.vue?3946","webpack:///./src/App.vue?ba8f","webpack:///./src/views/Home.vue?d36c","webpack:///./src/components/Area.vue?e04a","webpack:///./src/utils/common.js","webpack:///./src/utils/chartTools.js","webpack:///src/components/Area.vue","webpack:///./src/components/Area.vue?8a9a","webpack:///./src/components/Area.vue","webpack:///./src/components/Ring.vue?0a65","webpack:///src/components/Ring.vue","webpack:///./src/components/Ring.vue?89e5","webpack:///./src/components/Ring.vue","webpack:///src/views/Home.vue","webpack:///./src/views/Home.vue?493c","webpack:///./src/views/Home.vue","webpack:///src/App.vue","webpack:///./src/App.vue?1160","webpack:///./src/App.vue","webpack:///./src/main.js","webpack:///./src/views/Home.vue?cd16"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_vm","this","_h","$createElement","_c","_self","staticRenderFns","staticClass","_v","attrs","$ratio","area","dataset","option","ring","style","width","height","id","throttleFrame","fn","env","timer","rest","cancelAnimationFrame","requestAnimationFrame","Tooltip","assign","padding","fontSize","borderRadius","autoStyle","$g","document","createElementNS","$box","appendChild","createTextGroup","initStyle","setBoxSize","hide","$textGroup","cloneNode","$text","$text2","$textContent","createTextNode","$textContent2","setAttribute","str1","str2","oldStr1","oldStr2","newContent1","replaceChild","newContent2","Math","max","styles","forEach","ind","toString","keys","prop","replace","toLowerCase","len1","split","reduce","len","char","charCodeAt","len2","unit1","getAttribute","unit2","removeAttribute","x","y","Toolline","x1","y1","x2","y2","$line","obj","attr","Filter","filterId","$filter","createFilter","g","filter","blur","dom","parent","el","AnimationGenerator","domain","target","primary","Error","createAnimationQueue","duration","timingFunc","ticks","ceil","queue","origin","end","isNaN","parseFloat","console","error","JSON","stringify","frames","Array","map","a","run","log","currentFrameList","flat","intelligenceArea","b","margin","paras","x0","y0","validator","isArray","strictValidator","arr","val","grid","top","right","bottom","left","global","props","Number","String","type","default","bootstrap","tooltip","toolline","watch","renderChart","computed","config","defaultConfig","useful","fx","fy","created","onMousemove","mounted","initBootStrap","mountChart","beforeDestroy","node","removeEventListener","onMouseleave","methods","mount","drawAxis","gx","gy","drawArea","areaFn","xSeries","pairs","drawTools","addEventListener","$tooltip","$toolline","show","move","nearestInd","setText","getElementById","append","component","color","axis","d1","d2","d3","tickHeight","legend","super","text","sub","title","str","content","tag","selection","rate","safeLine","r0","g0","b0","size","contentRadius","generatePath","generateTick","animationRunner","oldDataset","parse","old","initBootstrap","drawLegend","drawRing","drawTitle","outline","innerline","min","abort","oldValue","position","cos","PI","display","flexDirection","justifyContent","alignItems","ld","select","backgroundColor","border","components","Area","Ring","setInterval","setAreaValue","setRingValue","createDataset","round","random","Home","Vue","productionTip","innerWidth","render","h","App"],"mappings":"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","file":"js/app.bffc265b.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Ring.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Ring.vue?vue&type=style&index=0&lang=less&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Home')}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('h1',{staticClass:\"header\"},[_vm._v(\"Charts by d3\")]),_c('Area',{attrs:{\"id\":\"area\",\"width\":500 * _vm.$ratio,\"height\":300 * _vm.$ratio,\"dataset\":_vm.area.dataset,\"option\":_vm.area.option}}),_c('Ring',{attrs:{\"id\":\"ring\",\"width\":500 * _vm.$ratio,\"height\":420 * _vm.$ratio,\"dataset\":_vm.ring.dataset,\"option\":_vm.ring.option}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"d3-wrap\",style:((\"width:\" + _vm.width + \"px;height:\" + _vm.height + \"px\")),attrs:{\"id\":_vm.id}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","const throttle = (fn, env = null, delay = 15, isImmediate = false) => {\r\n  let timer = null;\r\n  let start = null;\r\n  return function(...rest) {\r\n    if (!start) {\r\n      start = new Date();\r\n      if (isImmediate) fn.apply(env, rest);\r\n      else timer = setTimeout(() => fn.apply(env, rest), delay);\r\n    } else {\r\n      clearTimeout(timer);\r\n      const now = new Date();\r\n      if (now - start >= delay) {\r\n        fn.apply(env, rest);\r\n        start = null;\r\n      } else {\r\n        timer = setTimeout(() => fn.apply(env, rest), delay);\r\n        start = now;\r\n      }\r\n    }\r\n  };\r\n}\r\n\r\nconst throttleFrame = (fn, env = null) => {\r\n  let timer = null;\r\n  return function(...rest) {\r\n    if (timer) cancelAnimationFrame(timer);\r\n    timer = requestAnimationFrame(() => {\r\n      timer = null;\r\n      fn.apply(env, rest);\r\n    });\r\n  }\r\n}\r\n\r\nconst elegantPromise = promise => {\r\n  return new Promise((resolve) => {\r\n    promise\r\n      .then(data => resolve([null, data]))\r\n      .catch(err => resolve([err, null]))\r\n  })\r\n}\r\n\r\nexport { throttle, throttleFrame, elegantPromise };","export class Tooltip {\r\n  constructor(option) {\r\n    this.option = Object.assign({\r\n      width: null,\r\n      height: null,\r\n      padding: 6,\r\n      fontSize: 14,\r\n      borderRadius: 6,\r\n    }, option);\r\n    // 不显式指定下自动计算的样式信息\r\n    this.autoStyle = {};\r\n    this.$g = document.createElementNS(\"http://www.w3.org/2000/svg\", 'g');\r\n    this.$box = document.createElementNS(\"http://www.w3.org/2000/svg\", 'rect');\r\n    this.$g.appendChild(this.$box);\r\n    this.createTextGroup();\r\n    this.initStyle();\r\n    this.setBoxSize();\r\n    this.hide();\r\n  }\r\n  createTextGroup() {\r\n    this.$textGroup = this.$g.cloneNode();\r\n    this.$text = document.createElementNS(\"http://www.w3.org/2000/svg\", 'text');\r\n    this.$text2 = this.$text.cloneNode();\r\n    this.$textContent = document.createTextNode('');\r\n    this.$textContent2 = this.$textContent.cloneNode('');\r\n    this.$text.appendChild(this.$textContent);\r\n    this.$text2.appendChild(this.$textContent2);\r\n    this.$textGroup.appendChild(this.$text);\r\n    this.$textGroup.appendChild(this.$text2);\r\n    this.$g.appendChild(this.$textGroup);\r\n  }\r\n  initStyle() {\r\n    const { padding, fontSize } = this.option;\r\n    this.$g.setAttribute('style', 'transition: transform 0.4s');\r\n    this.$text.setAttribute('font-size', `${fontSize}`);\r\n    this.$text.setAttribute('fill', '#9fceff');\r\n    this.$text2.setAttribute('font-size', `${fontSize}`);\r\n    this.$text2.setAttribute('fill', '#9fceff');\r\n    this.$text2.setAttribute('transform', `translate(0, ${fontSize * 1.5})`);\r\n    this.$textGroup.setAttribute('transform', `translate(${padding},0)`)\r\n  }\r\n  setText(str1, str2) {\r\n    const { data: oldStr1 } = this.$textContent;\r\n    const { data: oldStr2 } = this.$textContent2;\r\n    const newContent1 = document.createTextNode(str1);\r\n    this.$text.replaceChild(newContent1, this.$textContent);\r\n    this.$textContent = newContent1;\r\n    if (str2) {\r\n      const newContent2 = document.createTextNode(str2);\r\n      this.$text2.replaceChild(newContent2, this.$textContent2);\r\n      this.$textContent2 = newContent2;\r\n    }\r\n    if (Math.max(str1.length, str2.length) > Math.max(oldStr1.length, oldStr2.length)) {\r\n      this.setBoxSize();\r\n    }\r\n  }\r\n  setTextAttribute(...styles) {\r\n    styles.forEach((style, ind) => {\r\n      if (Object.prototype.toString.call(style) !== '[object Object]') return;\r\n      const keys = Object.keys(style);\r\n      for (let i = 0; i < keys.length; i++) {\r\n        const key = keys[i];\r\n        const prop = `$text${ind === 0 ? '' : ind + 1}`;\r\n        this[prop] && this[prop]\r\n          .setAttribute(\r\n            key.replace(/([a-z])([A-Z])/g, '$1-$2').toLowerCase(),\r\n            style[key]\r\n          );\r\n      }\r\n    })\r\n  }\r\n  setBoxSize() {\r\n    const { width, height, padding, fontSize, borderRadius } = this.option;\r\n    const { data: str1 = '' } = this.$textContent;\r\n    const { data: str2 = '' } = this.$textContent2;\r\n    // 双字节字视为双倍宽度（暂时全按1处理）\r\n    const len1 = str1.split('').reduce((len, char) => (len += (char.charCodeAt(0) <= 128 ? 1 : 1)), 0);\r\n    const len2 = str2.split('').reduce((len, char) => (len += (char.charCodeAt(0) <= 128 ? 1 : 1)), 0);\r\n    const unit1 = this.$text.getAttribute('font-size') || fontSize;\r\n    const unit2 = this.$text2.getAttribute('font-size') || fontSize;\r\n    this.autoStyle.width = Math.max(len1 * unit1, len2 * unit2) + 2 * padding;\r\n    this.autoStyle.height = (unit1 * 1 + unit2 * 1) * 1.5 + 2 * padding;\r\n    this.$box.setAttribute('x', 0);\r\n    this.$box.setAttribute('y', 0);\r\n    this.$box.setAttribute('width', width || this.autoStyle.width);\r\n    this.$box.setAttribute('height', height || this.autoStyle.height);\r\n    this.$box.setAttribute('rx', borderRadius);\r\n    this.$box.setAttribute('ry', borderRadius);\r\n    this.$box.setAttribute('fill', 'rgba(0, 0, 0, 0.6)');\r\n    this.$box.setAttribute('transform', `translate(0, ${-(height | this.autoStyle.height) / 2})`);\r\n  }\r\n  show() {\r\n    this.$g.removeAttribute('display');\r\n  }\r\n  hide() {\r\n    this.$g.setAttribute('display', 'none');\r\n  }\r\n  move(x, y) {\r\n    this.$g.setAttribute('transform', `translate(${x},${y})`);\r\n  }\r\n  node() {\r\n    return this.$g;\r\n  }\r\n}\r\n\r\n\r\nexport class Toolline {\r\n  // 2点确定一条直线\r\n  constructor(option) {\r\n    this.option = Object.assign({\r\n      x1: 0,\r\n      y1: 0,\r\n      x2: 0,\r\n      y2: 0,\r\n    }, option);\r\n    this.$g = document.createElementNS(\"http://www.w3.org/2000/svg\", 'g');\r\n    this.$line = document.createElementNS(\"http://www.w3.org/2000/svg\", 'line');\r\n    this.$line.setAttribute('x1', this.option.x1);\r\n    this.$line.setAttribute('y1', this.option.y1);\r\n    this.$line.setAttribute('x2', this.option.x2);\r\n    this.$line.setAttribute('y2', this.option.y2);\r\n    this.initStyle();\r\n    this.$g.appendChild(this.$line);\r\n    this.hide();\r\n  }\r\n  initStyle() {\r\n    this.$g.setAttribute('style', 'transition: transform 0.2s ease-out');\r\n    this.$line.setAttribute('stroke', '#888');\r\n    this.$line.setAttribute('stroke-width', 1);\r\n    this.$line.setAttribute('stroke-dasharray', [4, 2]);\r\n  }\r\n  show() {\r\n    this.$g.removeAttribute('display');\r\n  }\r\n  hide() {\r\n    this.$g.setAttribute('display', 'none');\r\n  }\r\n  move(x, y) {\r\n    this.$g.setAttribute('transform', `translate(${x},${y})`);\r\n  }\r\n  setAttribute(obj) {\r\n    const keys = Object.keys(obj);\r\n    for (let i = 0; i < keys.length; i++) {\r\n      const key = keys[i];\r\n      const attr = keys[i].replace(/([a-z])([A-Z])/g, '$1-$2').toLowerCase();\r\n      this.$g.setAttribute(attr, obj[key])\r\n    }\r\n  }\r\n  node() {\r\n    return this.$g;\r\n  }\r\n}\r\n\r\nexport class Filter {\r\n  constructor(option) {\r\n    this.option = Object.assign({\r\n      width: 200,\r\n      height: 200,\r\n    }, option);\r\n    this.timer = null;\r\n    this.filterId = 'filter-blur';\r\n    this.$filter = this.createFilter();\r\n  }\r\n  createFilter() {\r\n    const g = document.createElementNS(\"http://www.w3.org/2000/svg\", 'g');\r\n    const filter = document.createElementNS(\"http://www.w3.org/2000/svg\", 'filter');\r\n    const blur = document.createElementNS(\"http://www.w3.org/2000/svg\", 'feGaussianBlur');\r\n    blur.setAttribute('in', 'SourceGraphic');\r\n    blur.setAttribute('stdDeviation', 5);\r\n    filter.setAttribute('id', this.filterId);\r\n    filter.appendChild(blur);\r\n    g.appendChild(filter);\r\n    return g;\r\n  }\r\n  mount(dom) {\r\n    if (!dom || this.option.parent) return;\r\n    this.option.parent = dom;\r\n    dom.appendChild(this.$filter);\r\n  }\r\n  track(dom) {\r\n    if (!dom || this.option.el) return;\r\n    this.option.el = dom;\r\n  }\r\n  show() {\r\n    const { el } = this.option;\r\n    el && el.setAttribute('filter',`url(#${this.filterId})`);\r\n  }\r\n  hide() {\r\n    const { el } = this.option;\r\n    el && el.removeAttribute('filter');\r\n  }\r\n  id() {\r\n    return this.filterId;\r\n  }\r\n  node() {\r\n    return this.$filter;\r\n  }\r\n}\r\n\r\nexport class AnimationGenerator {\r\n  constructor(option, domain, fn) {\r\n    // 起始状态 ...> 最终状态\r\n    if (domain.target.length !== domain.primary.length) throw Error('系列变量必须一一配对');\r\n    this.option = option;\r\n    this.domain = domain;\r\n    this.fn = fn;\r\n    this.timer = null;\r\n    this.createAnimationQueue();\r\n  }\r\n  createAnimationQueue() {\r\n    const {primary, target} = this.domain;\r\n    const { duration, timingFunc } = this.option;\r\n    const ticks = Math.ceil(duration / 16);\r\n    let queue = [];\r\n    if (timingFunc === 'linear') {\r\n      primary.forEach((origin, i) => {\r\n        const end = target[i];\r\n        if (isNaN(parseFloat(origin)) || isNaN(parseFloat(end))) {\r\n          console.error(\r\n            `Expected Number, but got primary:${JSON.stringify(origin)},target:${JSON.stringify(end)}.`\r\n          );\r\n          return;\r\n      }\r\n        const frames = Array.apply(null, { length: ticks })\r\n          .map((a, ind) => origin + (end - origin) * (ind + 1) / ticks);\r\n        queue.push(frames);\r\n      })\r\n    }\r\n    this.queue = queue;\r\n  }\r\n  abort() {\r\n    cancelAnimationFrame(this.timer);\r\n    this.queue = [];\r\n  }\r\n  run() {\r\n    const run = () => requestAnimationFrame(() => {\r\n      console.log('animating...')\r\n      const currentFrameList = [];\r\n      this.queue.forEach(frames => {\r\n        currentFrameList.push(frames.shift());\r\n      });\r\n      currentFrameList.length && this.fn(currentFrameList);\r\n      // 队列未清空\r\n      if (this.queue && this.queue.length && this.queue.flat().length) {\r\n        this.timer = run();\r\n      }\r\n    });\r\n    this.timer = run();\r\n  }\r\n}\r\n\r\n// left, right, top, bottom边界坐标\r\nconst intelligenceArea = (l, r, t, b, margin = 0) => {\r\n  return function (...paras) {\r\n    if (paras.length < 4) throw Error(`Expected 4 parameters but got ${paras.length}`);\r\n    const [width, height, x0, y0] = paras;\r\n    let x = x0 + margin;\r\n    let y = y0 + margin;\r\n    if (x < l + width) x = x0 + margin;\r\n    else if (x > r - width) x = x0 - width - margin;\r\n\r\n    if (y < t + height) y = y0 + height + margin;\r\n    else if (y > b - height) y = y0 - height - margin;\r\n    return [x, y]\r\n  }\r\n}\r\n\r\nconst validator = function (value) {\r\n  if (Array.isArray(value)\r\n    && value.length > 1\r\n    && Array.isArray(value[0])\r\n    && Array.isArray(value[1])\r\n  ) {\r\n    return true;\r\n  }\r\n  return false;\r\n}\r\n\r\n// 在结构一致的情况下，内部数组也不能为空\r\nconst strictValidator = function (value) {\r\n  if (validator(value) && value[0].length && value[1].length) {\r\n    return true;\r\n  }\r\n  return false;\r\n}\r\n\r\nexport {\r\n  intelligenceArea,\r\n  validator,\r\n  strictValidator,\r\n}","<template>\r\n  <div class=\"d3-wrap\" :id=\"id\" :style=\"`width:${width}px;height:${height}px`\" />\r\n</template>\r\n\r\n<script>\r\nimport * as d3 from 'd3';\r\nimport { throttleFrame } from '@/utils/common';\r\nimport {\r\n  Tooltip,\r\n  Toolline,\r\n  Filter,\r\n  intelligenceArea,\r\n  validator,\r\n  strictValidator,\r\n} from '@/utils/chartTools';\r\n\r\nconst findMoreIndFrom = (val, arr) => {\r\n  let ind = 0;\r\n  for (let i = 0; i < arr.length; i++) {\r\n    if (arr[i] >= val) {\r\n      ind = i;\r\n      break;\r\n    }\r\n  }\r\n  return ind;\r\n};\r\n\r\nconst defaultConfig = {\r\n  grid: {\r\n    top: 20,\r\n    right: 20,\r\n    bottom: 20,\r\n    left: 30,\r\n  },\r\n  global: {\r\n    fontSize: 14,\r\n  }\r\n};\r\n\r\nexport default {\r\n  props: {\r\n    dataset: {\r\n      validator,\r\n    },\r\n    id: [Number, String],\r\n    width: {\r\n      type: [Number, String],\r\n      default: 600,\r\n    },\r\n    height: {\r\n      type: [Number, String],\r\n      default: 200,\r\n    },\r\n    option: Object,\r\n  },\r\n  data() {\r\n    return {\r\n      bootstrap: null,\r\n      tooltip: null,\r\n      toolline: null,\r\n      filter: null,\r\n    };\r\n  },\r\n  watch: {\r\n    dataset() {\r\n      this.renderChart();\r\n    },\r\n  },\r\n  computed: {\r\n    config() {\r\n      return Object.assign({}, defaultConfig, this.option);\r\n    },\r\n    useful() {\r\n      if (!validator(this.dataset)) return {};\r\n      const {\r\n        width,\r\n        height,\r\n        dataset: [xSeries, ySeries],\r\n        config: {\r\n          grid: { top: top, bottom: bottom, left: left, right: right },\r\n        },\r\n      } = this;\r\n      const fx = d3\r\n        .scaleLinear()\r\n        .domain([d3.min(xSeries), d3.max(xSeries)])\r\n        .range([left, width - right]);\r\n      const fy = d3\r\n        .scaleLinear()\r\n        .domain([d3.min(ySeries), d3.max(ySeries)])\r\n        .range([height - bottom, top]);\r\n\r\n      return {\r\n        width: parseFloat(width),\r\n        height: parseFloat(height),\r\n        top: parseFloat(top),\r\n        bottom: parseFloat(bottom),\r\n        left: parseFloat(left),\r\n        right: parseFloat(right),\r\n        fx,\r\n        fy,\r\n      };\r\n    },\r\n  },\r\n  created() {\r\n    // 节流提升性能\r\n    this.onMousemove = throttleFrame(this.onMousemove, this);\r\n  },\r\n  mounted() {\r\n    this.initBootStrap();\r\n    this.renderChart();\r\n    this.mountChart();\r\n  },\r\n  beforeDestroy() {\r\n    this.bootstrap.node().removeEventListener('mousemove', this.onMousemove);\r\n    this.bootstrap.node().removeEventListener('mouseleave', this.onMouseleave);\r\n  },\r\n  methods: {\r\n    initBootStrap() {\r\n      this.bootstrap = d3\r\n        .create('svg')\r\n        .attr('width', this.width)\r\n        .attr('height', this.height)\r\n        .attr('viewbox', '0, 0, 800, 200');\r\n      \r\n      this.filter = new Filter();\r\n      this.filter.mount(this.bootstrap.node());\r\n    },\r\n    drawAxis() {\r\n      const { width, height, bottom, left, right, fx, fy } = this.useful;\r\n      const xAxis = d3.axisBottom(fx).ticks(12);\r\n      const yAxis = d3.axisLeft(fy).ticks(5);\r\n      // 打d3-x-axis标记方便更新\r\n      const gx = this.bootstrap.select('.d3-x-axis').node()\r\n        ? this.bootstrap.select('.d3-x-axis')\r\n        : this.bootstrap.append('g').attr('class', 'd3-x-axis');\r\n\r\n      const gy = this.bootstrap.select('.d3-y-axis').node()\r\n        ? this.bootstrap.select('.d3-y-axis')\r\n        : this.bootstrap.append('g').attr('class', 'd3-y-axis');\r\n      // 画x轴\r\n      gx.attr('transform', `translate(0,${height - bottom})`)\r\n        .call(xAxis)\r\n        .call(gx => gx\r\n          .call(gx => gx\r\n            .select('.domain')\r\n            .attr('stroke', '#6076AD')\r\n          )\r\n          .call(gx => gx\r\n            .selectAll('.tick text')\r\n            .attr('fill', '#6076AD')\r\n          )\r\n          .selectAll('.tick line')\r\n          .attr('stroke', '#6076AD')\r\n      );\r\n      // 画y轴\r\n      gy.attr('transform', `translate(${left},0)`)\r\n        .call(yAxis)\r\n        .call(g => {\r\n          g.select('.domain').attr('style', 'display:none');\r\n        })\r\n        .call(g => {\r\n          g\r\n            .call(gy => gy\r\n              .selectAll('.tick text')\r\n              .attr('fill', '#6076AD')\r\n          )\r\n            .selectAll('.tick line')\r\n            .attr('stroke', 'rgba(14, 252, 255, 0.6)')\r\n            .attr('x2', width - right - left)\r\n            .attr('stroke-dasharray', [4, 2])\r\n            .attr('stroke-width', 1)\r\n            .attr('stroke-linecap', 'butt');\r\n        });\r\n    },\r\n    drawArea() {\r\n      const { height, bottom, fx, fy } = this.useful;\r\n      const {\r\n        dataset: [xSeries, ySeries],\r\n      } = this;\r\n      const pairs = ySeries.map((a, i) => [xSeries[i], a]);\r\n\r\n      const areaFn = d3\r\n        .area()\r\n        .x(d => fx(d))\r\n        .y0(() => height - bottom)\r\n        .y1((d, i) => fy(pairs[i][1]));\r\n\r\n      const area = d3.select('.d3-area').node()\r\n        ? d3.select('.d3-area')\r\n        : this.bootstrap\r\n            .call(svg => {\r\n              svg\r\n                .append('defs')\r\n                .append('linearGradient')\r\n                .attr('id', 'gradient-fade-in')\r\n                .attr('x1', '0%')\r\n                .attr('y1', '100%')\r\n                .attr('x2', '0%')\r\n                .attr('y2', '0%')\r\n                .call(lg => {\r\n                  lg.append('stop')\r\n                    .attr('offset', '0%')\r\n                    .attr('stop-color', 'RGBA(50, 112, 135, 0.4)');\r\n                })\r\n                .call(lg => {\r\n                  lg.append('stop')\r\n                    .attr('offset', '100%')\r\n                    .attr('stop-color', 'RGBA(0, 255, 255, 1)');\r\n                });\r\n            })\r\n            .append('path')\r\n            .attr('class', 'd3-area')\r\n            .call(area => this.filter.track(area.node()));\r\n\r\n      area.attr('d', areaFn(xSeries.slice(0, pairs.length))).attr('fill', 'url(#gradient-fade-in)');\r\n    },\r\n    drawTools() {\r\n      const { fontSize, padding = 0 } = this.config.tooltip || this.config.global;\r\n      const { height, bottom, top } = this.useful;\r\n      this.tooltip = new Tooltip({ fontSize, padding });\r\n      this.toolline = new Toolline({\r\n        x1: 0,\r\n        y1: height - bottom,\r\n        x2: 0,\r\n        y2: top,\r\n      });\r\n      this.bootstrap.node().appendChild(this.tooltip.node());\r\n      this.bootstrap.node().appendChild(this.toolline.node());\r\n      this.bootstrap.node().addEventListener('mousemove', this.onMousemove);\r\n      this.bootstrap.node().addEventListener('mouseleave', this.onMouseleave);\r\n    },\r\n    onMousemove(e) {\r\n      if (!this.tooltip || !strictValidator(this.dataset)) {\r\n        this.$tooltip && this.$tooltip.hide();\r\n        this.$toolline && this.$toolline.hide();\r\n        return;\r\n      }\r\n      const { fx, width, height, left, right, top, bottom } = this.useful;\r\n      // 避免tooltip与边界碰撞\r\n      const aviodImpact = intelligenceArea(\r\n        left,\r\n        width - right,\r\n        top,\r\n        height - bottom,\r\n        50 * this.$ratio\r\n      );\r\n      const { offsetX, offsetY } = e;\r\n      const [xSeries, ySeries] = this.dataset;\r\n      const rightInd = findMoreIndFrom(fx.invert(offsetX), xSeries);\r\n      const leftInd = rightInd > 0 ? rightInd - 1 : 0;\r\n      const nearestInd =\r\n        offsetX - fx(xSeries[leftInd]) <= fx(xSeries[rightInd]) - offsetX\r\n          ? leftInd\r\n          : rightInd;\r\n      this.toolline.show();\r\n      this.toolline.move(fx(xSeries[nearestInd]), 0);\r\n      this.tooltip.show();\r\n      this.tooltip.move(\r\n        ...aviodImpact(\r\n          this.tooltip.autoStyle.width,\r\n          this.tooltip.autoStyle.height,\r\n          offsetX,\r\n          offsetY\r\n        )\r\n      );\r\n      this.tooltip.setText(\r\n        `时刻：${xSeries[nearestInd]}`,\r\n        `空气质量：${Math.round(ySeries[nearestInd]) || '--'}`\r\n      );\r\n    },\r\n    onMouseleave() {\r\n      this.toolline.hide();\r\n      this.tooltip.hide();\r\n    },\r\n    renderChart() {\r\n      if (!this.bootstrap) {\r\n        console.log(\r\n          'Root element [bootstrap] was not found and already returned.'\r\n        );\r\n        return;\r\n      }\r\n      if (!strictValidator(this.dataset)) {\r\n        console.log('Empty or wrong dataset, rendering aborted.');\r\n        this.filter.show();\r\n        return;\r\n      }\r\n      this.filter.hide();\r\n      console.log('rendering Area!');\r\n      this.drawAxis();\r\n      this.drawArea();\r\n      // 画一次就行了\r\n      if (this.tooltip || this.toolline) return;\r\n      this.drawTools();\r\n    },\r\n    mountChart() {\r\n      if (!this.bootstrap) {\r\n        console.log('指定的svg元素不存在，无法挂载图表');\r\n        return;\r\n      }\r\n      document.getElementById(this.id).append(this.bootstrap.node());\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Area.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Area.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Area.vue?vue&type=template&id=a6c216c2&scoped=true&\"\nimport script from \"./Area.vue?vue&type=script&lang=js&\"\nexport * from \"./Area.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a6c216c2\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"d3-wrap\",style:((\"width:\" + _vm.width + \"px;height:\" + _vm.height + \"px\")),attrs:{\"id\":_vm.id}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"d3-wrap\" :id=\"id\" :style=\"`width:${width}px;height:${height}px`\" />\n</template>\n\n<script>\nimport * as d3 from 'd3';\nimport { validator, strictValidator, AnimationGenerator, Filter } from '@/utils/chartTools';\n\nconst OUTLINE = 'd3-ring-outline';\nconst RINGLINE = 'd3-ring-line';\nconst INNERLINE = 'd3-ring-innerline';\nconst LEGEND = 'd3-ring-legend';\nconst TITLE = 'd3-ring-title';\nconst defaultConfig = {\n  global: {\n    fontSize: 14,\n    color: '#333',\n  },\n  grid: {\n    left: 10,\n    right: 10,\n    top: 10,\n    bottom: 10,\n  },\n  axis: {\n    // 3个环的宽度\n    d1: 10,\n    d2: 25,\n    d3: 20,\n    // 刻度的长度\n    tickHeight: 10,\n  },\n  legend: {\n    super: {\n      text: '',\n      fontSize: 16,\n    },\n    value: {\n      fontSize: 40,\n    },\n    sub: {\n      text: '',\n      fontSize: 16,\n    },\n    title: {\n      text: '',\n    },\n  },\n};\n\n// 可以输入特殊标签来较为正确地显示某些单位符号。\n// 例如 'm<super>3</super>' 转换为  text = m, tag = super, unit = 3, position = 1;\n// 会在页面上渲染为【立方米】的单位；\n// super表示上标，sub表示下标\nconst parseText = arr => arr.map(d => {\n  if (!d && d !== 0) return {\n    text: '',\n    unit: null,\n    tag: null,\n    position: -1,\n  };\n  const position = d.search(/(<\\w+>)\\s*\\S+\\s*(<\\/\\w+>)/g);\n  const text = d.replace(\n    /(<\\w+>)\\s*\\S+\\s*(<\\/\\w+>)/g,\n    ''\n  );\n  const unitArr = d.match(/(<\\w+>)\\s*\\S+\\s*(<\\/\\w+>)/g);\n  const unit = unitArr\n    ? unitArr[0].replace(/(<\\/?\\w+>)|\\s*/g, '')\n    : null;\n  const tag = unitArr\n    ? unitArr[0].match(/<\\w+>/)[0].replace(/<|>/g, '')\n    : null;\n  return {\n    text,\n    unit,\n    tag,\n    position,\n  }\n})\n\nconst strigifyStyle = style => {\n  let str = '';\n  const keys = Object.keys(style);\n  const props = ['fontSize', 'width', 'height', 'top', 'bottom', 'left', 'right'];\n  for (let i = 0; i < keys.length; i++) {\n    const key = keys[i];\n    const value = props.includes(key) ? `${style[key]}px` : style[key];\n    const attr = key.replace(/([a-z])([A-Z])/g, '$1-$2').toLowerCase();\n    str += `${attr}: ${value};`;\n  }\n  return str;\n};\n\nconst renderLegendText = (selection, content) => {\n  if (!content.tag) {\n    selection.text(content.text);\n  } else if (content.position > 0) {\n    selection.text(content.text);\n    selection\n    .selectAll('span')\n    .data([content.unit])\n    .join(\n      enter => enter\n        .append('span')\n        .attr('style', `vertical-align:${content.tag};font-size: 0.8em`)\n        .text(content.unit),\n      update => update.selectAll('span').text(content.unit),\n      exit => exit.remove()\n    );\n  } else {\n    selection\n    .selectAll('span')\n    .data([content.unit])\n    .join(\n      enter => enter\n        .append('span')\n        .attr('style', `vertical-align:${content.tag};font-size: 0.8em`)\n        .text(content.unit),\n      update => update.selectAll('span').text(content.unit),\n      exit => exit.remove()\n    );\n    selection.text(content.text);\n  }\n};\n\nconst colorGeneratorFactory = (begain ,end, safeLine = 0, warnLine = 1) => {\n  const [r0, g0, b0] = begain;\n  const [r1, g1, b1] = end;\n  return function (val, [min, max]) {\n    const value = Math.min(val, max);\n    const rate = (value - min) / (max - min);\n    if (rate <= safeLine) {\n      return [r0, g0, b0];\n    } else if (rate >= warnLine) {\n      return [\n        r1,\n        g1,\n        b1,\n      ];\n    } else {\n      return [\n        Math.round(r0 + (rate - safeLine) / (warnLine - safeLine) * (r1 - r0) ),\n        Math.round(g0 + (rate - safeLine) / (warnLine - safeLine) * (g1 - g0)),\n        Math.round(b0 + (rate - safeLine) / (warnLine - safeLine) * (b1 - b0)),\n      ];\n    }\n  }\n};\n\nexport default {\n  props: {\n    id: [Number, String],\n    width: {\n      type: [Number, String],\n      default: 488,\n    },\n    height: {\n      type: [Number, String],\n      default: 422,\n    },\n    dataset: {\n      validator,\n    },\n    option: Object,\n    size: String,\n  },\n  computed: {\n    config() {\n      return Object.assign({}, defaultConfig, this.option);\n    },\n    useful() {\n      if (!validator(this.dataset)) return {};\n      const {\n        axis: { d1, d2, d3, tickHeight },\n      } = this.config;\n      const {\n        width,\n        height,\n        config: {\n          grid: { top: top, bottom: bottom, left: left, right: right },\n        },\n      } = this;\n      // 剔除边距后实际可以用的宽高\n      const wid = width - left - right;\n      const hei = height - top - bottom;\n      const r0 = wid / 2;\n      const h = r0 - (wid - hei);\n      // 整个图形是一个宽度大于高度的方框，内部圆的下半部分被方框底部截断。\n      // 据此，在笛卡尔坐标系第一象限上，以坐标 (r, h)为圆心，r为半径画外环；\n      // 圆形平面方程为 (x - r)^2 + (y - h)^2 = r^2;\n      // y = 0 ... => (x - r)^2 + h^2 = r^2\n      // x = sqrt(r^2 - h^2) + r\n      // 转换为svg坐标系为：x(svg) = x, y(svg) = height - y。\n      // 最后画图时补上预留的left,top等值\n      const x0 = r0 * (1 - Math.sin(Math.PI / 4));\n      const y0 = r0 * (1 + Math.cos(Math.PI / 4));\n      // 根据偏转弧度和偏移长度计算坐标点；\n      // offset理解为从(x0,yo)向(xn,yn)出发，经过的直线距离\n      const x = (radian, offset = 10) => x0 + offset * Math.sin(radian);\n      const y = (radian, offset = 10) => y0 - offset * Math.cos(radian);\n      const r = (x, y) => Math.sqrt(Math.pow(x - x0, 2) + Math.pow(y - y0, 2));\n      const generatePath = (x, y, r, relativeRadian = Math.PI * 3 / 2) =>{\n        // 采用极坐标标记起始位置\n        const startAngle = Math.PI * 5 / 4;\n        // 防止数值可能溢出\n        const endAngle = startAngle - Math.min(relativeRadian, Math.PI * 3 / 2);\n        return `M${left + x} ${top + y} A${r} ${r}, 0, ${relativeRadian < Math.PI ? 0 : 1}, 1, ${\n        left + r0 + r * Math.cos(endAngle)\n        } ${top + r0 - r * Math.sin(endAngle)}`;\n      }\n      // 被刻度包裹的圆形半径\n      const contentRadius = r0 - (d1 + d2 + d3) - tickHeight - 2;\n      const calcPoints = radian => {\n        return [\n          [r0 + (contentRadius + tickHeight) * Math.cos(radian), h + (contentRadius + tickHeight) * Math.sin(radian)],\n          [\n            r0 + contentRadius * Math.cos(radian),\n            h + contentRadius * Math.sin(radian),\n          ],\n        ];\n      };\n      const generateTick = radian => {\n        const [[x1, y1], [x2, y2]] = calcPoints(radian);\n        return {\n          x1: x1 + left,\n          y1: height - bottom - y1,\n          x2: x2 + left,\n          y2: height - bottom - y2,\n        };\n      };\n\n      return {\n        x0,\n        y0,\n        r0,\n        x,\n        y,\n        r,\n        contentRadius,\n        generatePath,\n        generateTick,\n        width: parseFloat(width),\n        height: parseFloat(height),\n        top: parseFloat(top),\n        bottom: parseFloat(bottom),\n        left: parseFloat(left),\n        right: parseFloat(right),\n      };\n    },\n  },\n  data() {\n    return {\n      bootstrap: null,\n      animationRunner: null,\n      oldDataset: null,\n      filter: null,\n    };\n  },\n  watch: {\n    dataset(newVal, old) {\n      this.oldDataset = JSON.parse(JSON.stringify(old));\n      this.renderChart();\n    },\n  },\n  mounted() {\n    this.initBootstrap();\n    this.renderChart();\n    this.mountChart();\n  },\n  methods: {\n    initBootstrap() {\n      this.bootstrap = d3\n        .create('svg')\n        .attr('width', this.width)\n        .attr('height', this.height)\n        .attr('viewbox', '0, 0, 488, 422');\n\n      this.filter = new Filter({\n        parent: this.bootstrap.node()\n      });\n    },\n    renderChart() {\n      if (!this.bootstrap) {\n        console.log(\n          'Root element [bootstrap] was not found and already returned.'\n        );\n        return;\n      }\n      if (!strictValidator(this.dataset)) {\n        console.log('Empty or wrong dataset, rendering aborted.');\n        this.filter.show();\n        return;\n      }\n      this.filter.hide();\n      console.log('rendering Ring!');\n      this.drawAxis();\n      this.drawLegend();\n      this.drawRing();\n      this.drawTitle();\n    },\n    mountChart() {\n      if (!this.bootstrap) {\n        console.log('指定的svg元素不存在，无法挂载图表');\n        return;\n      }\n      document.getElementById(this.id).append(this.bootstrap.node());\n    },\n    drawAxis() {\n      if (this.width < this.height) {\n        console.log('该宽高比可能导致渲染不符预设');\n      }\n      const {\n        axis: { d1, d2, d3 },\n      } = this.config;\n      const { x0, y0, r0, x, y, r, generatePath, generateTick } = this.useful;\n      // 画外环\n      const outline = this.bootstrap.select(`.${OUTLINE}`).node()\n        ? this.bootstrap.select(`.${OUTLINE}`)\n        : this.bootstrap\n          .append('path')\n          .attr('class', OUTLINE)\n          .attr('stroke', '#2ACAFF')\n          .attr('fill', 'transparent');\n      outline\n          .attr('d', generatePath(x0, y0, r0));\n\n      // 画刻度环\n      const x2 = x(Math.PI / 4, d1 + d2 + d3);\n      const y2 = y(Math.PI / 4, d1 + d2 + d3);\n      const r2 = r0 - r(x2, y2);\n      const innerline = this.bootstrap.select(`.${INNERLINE}`).node()\n        ? this.bootstrap.select(`.${INNERLINE}`)\n        : this.bootstrap\n          .append('g')\n          .attr('class', INNERLINE);\n      innerline\n        .call(g => {\n          g.selectAll('line')\n            .data([1, 2, 3, 4, 5, 6, 8])\n            .join('line')\n            .attr('stroke', '#2ACAFF')\n            .attr('x1', d => generateTick((Math.PI / 4) * (d - 1)).x1)\n            .attr('y1', d => generateTick((Math.PI / 4) * (d - 1)).y1)\n            .attr('x2', d => generateTick((Math.PI / 4) * (d - 1)).x2)\n            .attr('y2', d => generateTick((Math.PI / 4) * (d - 1)).y2);\n        })\n        .selectAll('path')\n        .data([[x2, y2, r2]])\n        .join(\n          enter => enter\n            .append('path')\n            .attr('stroke', '#2ACAFF')\n            .attr('stroke-width', '1')\n            .attr('fill', 'transparent')\n            .attr('d', d => generatePath(...d)),\n          update => update\n            .attr('d', d => generatePath(...d)),\n          exit => exit.remove()\n        )\n    },\n    drawRing() {\n      const [[originVal], [originMin, originMax]] = this.dataset;\n      const value = parseFloat(originVal),\n        min = parseFloat(originMin),\n        max = parseFloat(originMax);\n      if (isNaN(min) || isNaN(max)) {\n        console.error(`domain must be Number, but got ${[originMin, originMax]}.`);\n      }\n      const { r0, x, y, r, generatePath } = this.useful;\n      const {\n        axis: { d1, d2 },\n      } = this.config;\n      const oldValue = this.oldDataset ? this.oldDataset[0][0] : min;\n      const x1 = x(Math.PI / 4, d1 + d2 / 2);\n      const y1 = y(Math.PI / 4, d1 + d2 / 2);\n      const r1 = r0 - r(x1, y1);\n      const colorGenerator = colorGeneratorFactory([42, 202, 255], [239, 10, 106], 0.4, 0.9);\n      const ring = this.bootstrap.select(`.${RINGLINE}`).node()\n        ? this.bootstrap.select(`.${RINGLINE}`).selectAll('path')\n        : this.bootstrap\n          .append('g')\n          .call(g => this.filter.track(g.node()))\n          .attr('class', RINGLINE)\n          .call(g => g\n            .append('path')\n            .attr('stroke', 'rgba(125,125,125,0.3)')\n            .attr('stroke-width', `${d2}`)\n            .attr('stroke-linecap', 'round')\n            .attr('fill', 'transparent')\n            .attr('d', generatePath(x1, y1, r1, Math.PI * 3 / 2)),\n          )\n          .append('path')\n            .attr('stroke-width', `${d2}`)\n            .attr('stroke-linecap', 'round')\n            .attr('fill', 'transparent');\n      // 中止上一次可能正在进行中的执行\n      this.animationRunner && this.animationRunner.abort();\n\n      if (isNaN(value)) {\n        console.log(`Animation canceled!Because value must be Number, but got ${originVal}.`);\n        return;\n      }\n      this.animationRunner = new AnimationGenerator(\n      {\n        duration: 1000,\n        timingFunc: 'linear',\n      },\n      {\n        primary: [Math.min(oldValue, max)],\n        target: [Math.min(value, max)],\n      },\n      ([value]) => {\n        const [r, g, b] = colorGenerator(value, [min, max]);\n        ring\n          .attr('d', generatePath(x1, y1, r1, value / max * Math.PI * 3 / 2))\n          .attr('stroke', `rgba(${r}, ${g}, ${b}, 0.6)`);\n      });\n      this.animationRunner.run();\n    },\n    drawLegend() {\n      const [[originValue]] = this.dataset;\n      const { legend, global } = this.config;\n      const { r0, top, contentRadius } = this.useful;\n      // 不使用原始文本，因为要特殊处理一些语法\n      const [ contentSuper, contentSub ] = parseText([\n        legend.super && legend.super.text,\n        legend.sub && legend.sub.text\n      ]);\n      const legendStyle = {\n        position: 'absolute',\n        left: 0,\n        right: 0,\n        top: top + r0 - contentRadius,\n        width: 2 * contentRadius,\n        height: contentRadius * (1 + Math.cos(Math.PI / 4)),\n        margin: 'auto',\n        display: 'flex',\n        flexDirection: 'column',\n        justifyContent: 'space-around',\n        alignItems: 'center',\n      };\n      const ld = d3.select(`#${this.id}`).select(`.${LEGEND}`).node()\n        ? d3.select(`#${this.id}`).select(`.${LEGEND}`)\n        : d3.select(`#${this.id}`)\n            .append('div')\n            .attr('class', LEGEND)\n            .attr('style', strigifyStyle(legendStyle));\n      ld\n        .selectAll('p')\n        .data(['super', 'value', 'sub'])\n        .join(enter =>\n          enter\n            .append('p')\n            .attr('class', d => d)\n            // 文本的所有样式在此配置\n            .attr('style', d => {\n              const style = Object.assign({}, global, legend[d]);\n              // 删除非css属性\n              delete style.text;\n              return strigifyStyle(style);\n            }),\n        );\n      ld.select('.super').call(p => renderLegendText(p, contentSuper));\n      ld.select('.value').call(p => renderLegendText(p, { text: parseFloat(originValue) }));\n      ld.select('.sub').call(p => renderLegendText(p, contentSub));\n    },\n    drawTitle() {\n      const { r0, top, bottom, left, height, contentRadius } = this.useful;\n      const { text } = this.config.legend && this.config.legend.title || {};\n      const { tickHeight } = this.config.axis;\n      const titleFormatter = typeof text === 'function'\n        ? text\n        : () => text;\n      const titleStyle = {\n        backgroundColor: '#1b225b',\n        color: '#2acaff',\n        border: '1px solid #0090ff',\n        borderRadius: '10PX',\n      };\n      const renderText = titleFormatter(this.dataset) || '--';\n      // 最小预留的字数位\n      const baseLength = 5;\n      // 假设ASCII之外的字宽是英文2倍\n      const textLength = [...renderText].reduce((accu, el) => (accu += el.charCodeAt(0) <= 128 ? 0.5 : 1), 0)\n      // titleWidth为最下面2个刻度间的距离。\n      // 根据字数计算每个字理论最大多宽\n      // 左右留1%总宽度的边距\n      // remainHeight为最下面2刻度连线和bottom线的距离\n      const titleWidth = 2 * (contentRadius + tickHeight) * Math.sin(Math.PI / 4) * 0.9;\n      const unitWidth = titleWidth / Math.max(textLength, baseLength);\n      const fontSize = unitWidth * 0.8;\n      const remainHeight = height - bottom - (top + r0 + (contentRadius + tickHeight) * Math.cos(Math.PI / 4));\n      const rectHeight = remainHeight >= unitWidth ? remainHeight : unitWidth;\n      const verticalPadding = (rectHeight - fontSize) / 2;\n      const tl = this.bootstrap.select(`.${TITLE}`).node()\n        ? this.bootstrap.select(`.${TITLE}`)\n        : this.bootstrap\n          .append('g')\n          .attr('class', TITLE);\n        tl\n          .attr('transform', `translate(${left + r0 - titleWidth / 2 }, ${height - bottom})`)\n          .selectAll('rect')\n          .data([1])\n          .join(\n            enter => enter\n              .append('rect')\n              .attr('width', titleWidth)\n              .attr('height', rectHeight)\n              .attr('y', -fontSize)\n              .attr('rx', verticalPadding)\n              .attr('ry', verticalPadding)\n              .attr('fill', titleStyle.backgroundColor)\n              .attr('stroke', '#0090FF'),\n            update => update,\n            exit => exit.remove()\n          );\n        tl\n          .selectAll('text')\n          .data([renderText])\n          .join(\n            enter => enter\n              .append('text')\n              .attr('font-size', fontSize)\n              .text(d => d)\n              .attr('fill', '#2acaff')\n              .attr('x', (titleWidth - textLength * fontSize) / 2),\n            update => update.text(d => d)\n          );\n    }\n  },\n};\n</script>\n\n<style lang=\"less\">\n.d3-wrap {\n  position: relative;\n  top: 0;\n  left: 0;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Ring.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Ring.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Ring.vue?vue&type=template&id=767d7863&\"\nimport script from \"./Ring.vue?vue&type=script&lang=js&\"\nexport * from \"./Ring.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Ring.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"container\">\n    <h1 class=\"header\">Charts by d3</h1>\n    <Area\n      id=\"area\"\n      :width=\"500 * $ratio\"\n      :height=\"300 * $ratio\"\n      :dataset=\"area.dataset\"\n      :option=\"area.option\"\n    />\n    <Ring\n      id=\"ring\"\n      :width=\"500 * $ratio\"\n      :height=\"420 * $ratio\"\n      :dataset=\"ring.dataset\"\n      :option=\"ring.option\"\n    />\n  </div>\n</template>\n\n<script>\nimport Area from '@/components/Area';\nimport Ring from '@/components/Ring';\n\nconst createDataset = (x, y) => {\n  const xSeries = Array.apply(null, { length: x }).map((a, i) => i + 1);\n  return [\n    xSeries,\n    xSeries.map(\n      (a, i) =>\n        y / 2 +\n        (y / 2) * Math.sin((i * Math.PI) / parseInt(Math.random() * 10 + 20))\n    ),\n  ];\n};\n\nexport default {\n  components: {\n    Area,\n    Ring,\n  },\n  data() {\n    return {\n      area: {\n        dataset: null,\n        option: null,\n      },\n      ring: {\n        dataset: null,\n        option: {\n          legend: {\n            super: {\n              text: 'CO<sub>2</sub>',\n              fontSize: 16 * this.$ratio,\n            },\n            value: {\n              fontSize: 40 * this.$ratio,\n            },\n            sub: {\n              text: 'μg/m<super>3</super>',\n              fontSize: 16 * this.$ratio,\n            },\n            title: {\n              text: '室外空气质量',\n            },\n          },\n        },\n      },\n    };\n  },\n  mounted() {\n    setInterval(() => {\n      this.setAreaValue();\n      this.setRingValue();\n    }, 1000 * 3);\n    this.setAreaValue();\n    this.setRingValue();\n  },\n  methods: {\n    setAreaValue() {\n      this.area.dataset = createDataset(30, 50);\n    },\n    setRingValue() {\n      this.ring.dataset = [[Math.round(Math.random() * 100)], [0, 100]];\n    },\n  },\n};\n</script>\n\n<style lang=\"less\" scoped>\n.container {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n}\n.header {\n  text-align: center;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Home.vue?vue&type=template&id=9b88cfc2&scoped=true&\"\nimport script from \"./Home.vue?vue&type=script&lang=js&\"\nexport * from \"./Home.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Home.vue?vue&type=style&index=0&id=9b88cfc2&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"9b88cfc2\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <Home />\r\n</template>\r\n\r\n<script>\r\nimport Home from '@/views/Home';\r\n\r\nexport default {\r\n  components: {\r\n    Home,\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\nbody,\r\np {\r\n  padding: 0;\r\n  margin: 0;\r\n}\r\n\r\n#app {\r\n  font-family: 'Adobe Heiti Std R', Helvetica, Arial, sans-serif;\r\n  -webkit-font-smoothing: antialiased;\r\n  -moz-osx-font-smoothing: grayscale;\r\n}\r\n</style>\r\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=cafee094&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","// The Vue build version to load with the `import` command\r\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\r\nimport Vue from 'vue'\r\nimport App from './App'\r\n\r\nVue.config.productionTip = false\r\nVue.prototype.$ratio = window.innerWidth / 1920;\r\nnew Vue({\r\n  el: '#app',\r\n  render: h => h(App)\r\n})\r\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=style&index=0&id=9b88cfc2&lang=less&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=style&index=0&id=9b88cfc2&lang=less&scoped=true&\""],"sourceRoot":""}